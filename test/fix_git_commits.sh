#!/bin/bash

echo "üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –∫–æ–º–º–∏—Ç–æ–≤"
echo "=================================="

# –°–æ–∑–¥–∞–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
echo "üì¶ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏..."
git stash push -m "backup_before_fix_$(date +%Y%m%d_%H%M%S)"

# –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º—Å—è –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —É—Å–ø–µ—à–Ω–æ–º—É –∫–æ–º–º–∏—Ç—É
echo "‚è™ –û—Ç–∫–∞—Ç –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —É—Å–ø–µ—à–Ω–æ–º—É –∫–æ–º–º–∏—Ç—É..."
git reset --hard efa83972f4aee70796ab665f103c7b944673770d

# –£–¥–∞–ª—è–µ–º –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –∏–∑ –∏–Ω–¥–µ–∫—Å–∞
echo "üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤..."
git rm --cached -r venv_clean/ 2>/dev/null || true
git rm --cached translate-ru_en-1_9.argosmodel 2>/dev/null || true

# –î–æ–±–∞–≤–ª—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π .gitignore
echo "üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .gitignore..."
git add .gitignore

# –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç –±–µ–∑ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
echo "üíæ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–∏—Ç–∞..."
git commit -m "Add Git repository cleanup tools and analysis (without large files)"

# –ü—Ä–æ–±—É–µ–º –ø—É—à
echo "üöÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ GitHub..."
git push origin main

echo "‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ" 