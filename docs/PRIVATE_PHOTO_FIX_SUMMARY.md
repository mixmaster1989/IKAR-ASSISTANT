# üì∏ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –û–ë–†–ê–ë–û–¢–ö–ò –§–û–¢–û –í –õ–ò–ß–ù–´–• –°–û–û–ë–©–ï–ù–ò–Ø–• - –ö–†–ê–¢–ö–û–ï –†–ï–ó–Æ–ú–ï

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–í –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –±–æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª **—Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç** –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π (–ø—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞), –∞ –≤ –≥—Ä—É–ø–ø–∞—Ö - **–Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç** —Å –∫–Ω–æ–ø–∫–∞–º–∏ –≤—ã–±–æ—Ä–∞.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ
**–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª –æ–±—Ä–∞–±–æ—Ç–∫—É** - —Ç–µ–ø–µ—Ä—å –≤ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∫–Ω–æ–ø–∫–∞–º–∏, —á—Ç–æ –∏ –≤ –≥—Ä—É–ø–ø–∞—Ö.

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è

### **–§–∞–π–ª:** `backend/api/telegram_private.py`

**–î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã:**
```python
from backend.api.telegram_photo_handler import send_photo_recognition_buttons
from backend.memory.sqlite import sqlite_storage
from datetime import datetime
```

**–ò–∑–º–µ–Ω–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ:**
```python
# –ë–´–õ–û:
await process_telegram_photo_with_crypto_detection(message, chat_id, user_id, temp_dir, download_telegram_file, send_telegram_message)

# –°–¢–ê–õ–û:
# –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–æ—Ç–æ –≤ –ë–î
sqlite_storage.save_pending_photo(chat_id, message_id, user_id, message_dict, timestamp)
# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞
await send_photo_recognition_buttons(chat_id, message_id)
```

## üé® –†–µ–∑—É–ª—å—Ç–∞—Ç

### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
üë§ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ –≤ –ª–∏—á–∫—É
ü§ñ –°—Ä–∞–∑—É –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç (—Ç–æ–ª—å–∫–æ –∫—Ä–∏–ø—Ç–æ)
```

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
üë§ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ –≤ –ª–∏—á–∫—É
ü§ñ "–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å —Å —ç—Ç–∏–º —Ñ–æ—Ç–æ?"
    [–ö–Ω–æ–ø–∫–∞] "–†–∞—Å–ø–æ–∑–Ω–∞—Ç—å –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"
    [–ö–Ω–æ–ø–∫–∞] "–†–∞—Å–ø–æ–∑–Ω–∞—Ç—å –∫–∞–∫ —Ç–µ–∫—Å—Ç"
üë§ –í—ã–±–∏—Ä–∞–µ—Ç —Ç–∏–ø –æ–±—Ä–∞–±–æ—Ç–∫–∏
ü§ñ –í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑
```

## üìä –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è
–¢–µ–ø–µ—Ä—å **–æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ä–∞–±–æ—Ç–∞–µ—Ç** –≤:
- ‚úÖ –ì—Ä—É–ø–ø–∞—Ö
- ‚úÖ –õ–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- ‚úÖ –°—É–ø–µ—Ä–≥—Ä—É–ø–ø–∞—Ö

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç: `test/test_private_photo_buttons.py`
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üéâ –ò—Ç–æ–≥
**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!** –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –≤–æ –≤—Å–µ—Ö —Ç–∏–ø–∞—Ö —á–∞—Ç–æ–≤. 