# üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ IKAR (–ß–∞—Ç—É–º–±–∞)

## üìã **–û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**

IKAR –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ backend (Python/FastAPI), frontend (HTML/JS) –∏ —Å–∏—Å—Ç–µ–º—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞–∑—É–º–∞ –∏ —Ñ–æ–Ω–æ–≤–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏.

```
IKAR/
‚îú‚îÄ‚îÄ backend/                    # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ api/                   # API –º–æ–¥—É–ª–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ core/                  # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã (–¥—É—à–∞, –ª–∏—á–Ω–æ—Å—Ç—å, –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–∑—É–º)
‚îÇ   ‚îú‚îÄ‚îÄ llm/                   # –Ø–∑—ã–∫–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ memory/                # –°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ vision/                # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ voice/                 # –ì–æ–ª–æ—Å–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ utils/                 # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ main.py                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ frontend/                   # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ package.json           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Node.js
‚îÇ   ‚îî‚îÄ‚îÄ public/                # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ temp/                      # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ data/                      # –î–∞–Ω–Ω—ã–µ (–ë–î, –ø–∞–º—è—Ç—å, –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–∑—É–º)
‚îú‚îÄ‚îÄ logs/                      # –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ docs/                      # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ [–∫–æ—Ä–Ω–µ–≤—ã–µ —Ñ–∞–π–ª—ã]           # –°–∫—Ä–∏–ø—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## üîß **Backend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

### **üì° API –º–æ–¥—É–ª–∏ (`backend/api/`)**

#### **–û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏:**
- **`routes.py`** - –ì–ª–∞–≤–Ω—ã–µ REST API –º–∞—Ä—à—Ä—É—Ç—ã
  - –°–æ–æ–±—â–µ–Ω–∏—è (`/api/message`)
  - –õ–∏—á–Ω–æ—Å—Ç—å (`/api/personality`)
  - –î—É—à–∞ (`/api/soul/action`)
  - WebSocket (`/api/ws`)
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (`/api/image/*`)

- **`telegram_core.py`** - –ë–∞–∑–æ–≤–∞—è Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
  - –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
  - –ö–∞–Ω–∞–ª—å–Ω—ã–π –ø–æ—Å—Ç–∏–Ω–≥
  - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
  - –ù–∞—Ç–∏–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

- **`telegram_polling.py`** - –°–∏—Å—Ç–µ–º–∞ polling –¥–ª—è Telegram
  - –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
  - –ö—Ä–∏–ø—Ç–æ–∞–Ω–∞–ª–∏–∑ –∏ –ö–†–ò–ü–¢–û–°–£–î
  - –°–∏—Å—Ç–µ–º–∞ cooldown –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

#### **Telegram —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:**
- **`telegram_main.py`** - –ù–æ–≤—ã–π –º–æ–¥—É–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **`telegram_personality.py`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç—å—é –≤ Telegram
- **`telegram_vision.py`** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **`telegram_voice.py`** - –ì–æ–ª–æ—Å–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **`telegram_photo_handler.py`** - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ —Å –∫–Ω–æ–ø–∫–∞–º–∏
- **`telegram_group_patch.py`** - –ü–∞—Ç—á–∏ –¥–ª—è –≥—Ä—É–ø–ø
- **`telegram_group_fixes.py`** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

#### **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏:**
- **`chatumba_analyzer.py`** - –ê–Ω–∞–ª–∏–∑ –≥—Ä—É–ø–ø –ø–æ —Ç—Ä–∏–≥–≥–µ—Ä—É "–ß–ê–¢–£–ú–ë–ê"
  - –≠–∫—Å–ø–µ—Ä—Ç–∏–∑–∞ –ø–æ –∞—Ä–±–∏—Ç—Ä–∞–∂—É —Å—Ç–∞–≤–æ–∫ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BingX API
  - –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –≥—Ä—É–ø–ø

- **`smart_bot_trigger.py`** - –£–º–Ω—ã–π —Ç—Ä–∏–≥–≥–µ—Ä "–±–æ—Ç"
  - –ë—ã—Å—Ç—Ä—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ —Å–ª–æ–≤—É "–±–æ—Ç"
  - Cooldown —Å–∏—Å—Ç–µ–º–∞ (1 –º–∏–Ω—É—Ç–∞)
  - –ê–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 12 —á–∞—Å–æ–≤
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —É–º–Ω–æ–π –ø–∞–º—è—Ç–∏

- **`group_image_trigger.py`** - –¢—Ä–∏–≥–≥–µ—Ä "–ë–û–¢–ù–ê–†–ò–°–£–ô"
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø–∞—Ö
  - –ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ –ø—Ä–æ–º–ø—Ç–æ–≤
  - Cooldown —Å–∏—Å—Ç–µ–º–∞ (2 –º–∏–Ω—É—Ç—ã)

#### **–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–µ –º–æ–¥—É–ª–∏:**
- **`bingx_api.py`** - API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BingX
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - –ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π —Ä—ã–Ω–∫–∞
  - –¢–æ—Ä–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏

- **`crypto_exchange_integration.py`** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫—Ä–∏–ø—Ç–æ—Å—É–¥–æ–º
  - –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞
  - –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
  - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤

- **`bingx_test_routes.py`** - –¢–µ—Å—Ç–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è BingX
  - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ API
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–∏–∫–µ—Ä–∞

#### **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –º–æ–¥—É–ª–∏:**
- **`admin_api.py`** - –û—Å–Ω–æ–≤–Ω—ã–µ –∞–¥–º–∏–Ω—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏
  - –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–º–ø—Ç–æ–≤
  - –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  - **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–æ–º –ø–∞–º—è—Ç–∏**

- **`admin_logs.py`** - –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤
  - –ü–æ–∏—Å–∫ –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
  - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

- **`admin_triggers_autoposts.py`** - –¢—Ä–∏–≥–≥–µ—Ä—ã –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥–∞
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

#### **–ù–æ–≤—ã–µ API –º–æ–¥—É–ª–∏:**
- **`collective_api.py`** - API –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞–∑—É–º–∞
  - –û–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∏
  - –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–∞—è –º—É–¥—Ä–æ—Å—Ç—å
  - –≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

- **`memory_api.py`** - API —Å–∏—Å—Ç–µ–º—ã –ø–∞–º—è—Ç–∏
  - –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
  - –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –∞–Ω–∞–ª–∏–∑–æ–º
  - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—ã–±–æ—Ä–∞ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π

### **üß† –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã (`backend/core/`)**

- **`soul.py`** - –°–∏—Å—Ç–µ–º–∞ –¥—É—à–∏ –ß–∞—Ç—É–º–±—ã
  - **`ChatumbaSoul`** - –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –¥—É—à–∞
    - 5 —Å—Ç–∞–¥–∏–π –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è
    - –ê–≤—Ç–æ–Ω–æ–º–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30-120 —Å–µ–∫
    - –≠–∫–∑–∏—Å—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∫—Ä–∏–∑–∏—Å—ã
    - –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∞–≤–º—ã
    - –ù–∞–≤—è–∑—á–∏–≤—ã–µ –∏–¥–µ–∏
  - **`GroupSoul`** - –ì—Ä—É–ø–ø–æ–≤–∞—è –¥—É—à–∞
    - –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–∑–Ω–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
    - –ê–Ω–∞–ª–∏–∑ –¥–∏–Ω–∞–º–∏–∫–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

- **`personality.py`** - –°–∏—Å—Ç–µ–º–∞ –ª–∏—á–Ω–æ—Å—Ç–∏
  - **`ChatumbaPersonality`** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å
    - –î–Ω–µ–≤–Ω–∞—è –∏–∑–º–µ–Ω—á–∏–≤–æ—Å—Ç—å –ª–∏—á–Ω–æ—Å—Ç–∏
    - 5 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
    - 6 —Ç–∏–ø–æ–≤ —Ä–µ–∞–∫—Ü–∏–π
    - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

- **`reactions.py`** - –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–∫—Ü–∏–π
  - –í—ã–±–æ—Ä —Ç–∏–ø–∞ —Ä–µ–∞–∫—Ü–∏–∏
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
  - –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ–∫—Ä–∞—Å–∫–∞

- **`utils.py`** - –£—Ç–∏–ª–∏—Ç—ã —è–¥—Ä–∞
  - –û—Ü–µ–Ω–∫–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–∂–Ω–æ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

- **`collective_mind.py`** - –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–∑—É–º
  - **`CollectiveMind`** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å
    - –î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ç—å –∞–≥–µ–Ω—Ç–æ–≤
    - –û–±–º–µ–Ω –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏ –∏ –∏–Ω—Å–∞–π—Ç–∞–º–∏
    - –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
    - –≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ
  - **`CollectiveMemory`** - –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å
  - **`EvolutionEvent`** - –°–æ–±—ã—Ç–∏—è —ç–≤–æ–ª—é—Ü–∏–∏

### **ü§ñ LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (`backend/llm/`)**

- **`openrouter.py`** - –ö–ª–∏–µ–Ω—Ç OpenRouter
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö API –∫–ª—é—á–µ–π
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –ª–∏–º–∏—Ç–∞—Ö
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ retry –ª–æ–≥–∏–∫–∞
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
  - **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç—å—é**

- **`prompt_builder.py`** - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
  - –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞
  - –ö–∞–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã (36.6 —Å—Ç–∏–ª—å)
  - –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä—É–ø–ø
  - **–ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**

### **üß† –°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏ (`backend/memory/`)**

- **`lazy_memory.py`** - LazyMemory (SQLite-based)
  - **`LazyMemory`** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å
    - SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
    - –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
    - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ —Å—Ö–æ–¥—Å—Ç–≤—É
    - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- **`sqlite.py`** - SQLite —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
  - **`SQLiteStorage`** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å
    - –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
    - –ì—Ä—É–ø–ø–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    - –ò–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    - Pending –æ–ø–µ—Ä–∞—Ü–∏–∏
    - –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö

- **`embeddings.py`** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
  - OpenAI embeddings API
  - –õ–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ (fallback)
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- **`memory_optimizer.py`** - –§–æ–Ω–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏
  - **`MemoryOptimizer`** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å
    - –ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (23:00-07:00)
    - –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ —á–∞–Ω–∫–æ–≤
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ü–∏–∫–ª—ã –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
    - –°–∂–∞—Ç–∏–µ –≤ 2-3 —Ä–∞–∑–∞ —á–µ—Ä–µ–∑ LLM
  - **–§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
    - –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–æ–º
    - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **`smart_memory_manager.py`** - Smart Memory Manager
  - **`SmartMemoryManager`** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å
    - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
    - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–æ—á–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
    - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞–Ω–∫–∞–º–∏ –ø–∞–º—è—Ç–∏

- **`night_optimizer.py`** - –ù–æ—á–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
  - **`NightOptimizer`** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö
    - LLM-–æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–∞–Ω–∫–æ–≤
    - –í—Ä–µ–º–µ–Ω–Ω–æ–µ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
    - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- **`smart_retriever.py`** - –£–º–Ω—ã–π –ø–æ–∏—Å–∫
  - **`SmartRetriever`** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å
    - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
    - –í—Ä–µ–º–µ–Ω–Ω—ã–µ –±–æ–Ω—É—Å—ã
    - –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –±–æ–Ω—É—Å—ã
    - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

### **üëÅÔ∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (`backend/vision/`)**

- **`image_generator.py`** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - **Hugging Face –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
    - 4+ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–∏
    - –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–µ—Ä–µ–¥—å
    - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã
  - **–ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ –ø—Ä–æ–º–ø—Ç–æ–≤**
    - –ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —á–µ—Ä–µ–∑ LLM
    - –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–º–ø—Ç–æ–≤
    - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –¥–µ—Ç–∞–ª–µ–π
  - **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤**

- **`image_analyzer.py`** - –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏**
    - Qwen2.5-VL —á–µ—Ä–µ–∑ OpenRouter
    - Claude Haiku (fallback)
    - –õ–æ–∫–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (–ø–æ—Å–ª–µ–¥–Ω–∏–π fallback)
  - **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–ª—é—á–∏**
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
    - –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–∏–º–∏—Ç–æ–≤

- **`local_vision.py`** - –õ–æ–∫–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
  - **EasyOCR** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
  - **YOLO** - –¥–µ—Ç–µ–∫—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
  - **Fallback** –¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞

### **üé§ –ì–æ–ª–æ—Å–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (`backend/voice/`)**

- **`tts.py`** - Text-to-Speech
  - Silero TTS –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
  - –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ MP3

- **`stt.py`** - Speech-to-Text
  - Whisper –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

### **üîß –£—Ç–∏–ª–∏—Ç—ã (`backend/utils/`)**

- **`logger.py`** - –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–≥–µ—Ä–æ–≤
  - –†–æ—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
  - –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

- **`import_helper.py`** - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
  - Graceful fallback –¥–ª—è –º–æ–¥—É–ª–µ–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤

- **`component_manager.py`** - –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - **`ComponentManager`** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å
    - –°–∏–Ω–≥–ª—Ç–æ–Ω-–ø–∞—Ç—Ç–µ—Ä–Ω
    - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
    - –ò–∑–±–µ–∂–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LazyMemory

### **‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**

- **`config.py`** - –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ API –∫–ª—é—á–∏**
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–ª—é—á–µ–π
    - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OPENROUTER_API_KEY_N
    - –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
  - **–î–Ω–µ–≤–Ω–∞—è –∏–∑–º–µ–Ω—á–∏–≤–æ—Å—Ç—å**
    - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–¥–∞ –ø–æ –¥–∞—Ç–µ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    - –ú—É—Ç–∞—Ü–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏
    - –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è
  - **–í—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
    - LLM, LazyMemory, –≥–æ–ª–æ—Å, API
    - BingX, Telegram, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

- **`main.py`** - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FastAPI
  - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–æ–≤
  - Middleware –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
  - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
  - **–ó–∞–ø—É—Å–∫ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞–∑—É–º–∞**
  - **–ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏**

## üåê **Frontend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

### **üì¶ –ü–∞–∫–µ—Ç—ã (`frontend/`)**
- **`package.json`** - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Node.js
  - Serve –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
  - –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞

### **üé® –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (`frontend/public/`)**

- **`index.html`** - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
  - –û—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  - WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç—å—é

- **`soul.html`** - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥—É—à–∏
  - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥—É—à–∏
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º—ã—Å–ª–µ–π

- **`admin.html`** - –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã

- **`bingx-test.html`** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ BingX
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤

- **`memory-optimizer.html`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–æ–º –ø–∞–º—è—Ç–∏
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  - –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  - –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫

- **`collective-mind.html`** - –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–∑—É–º
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ç–∏
  - –ü–æ–∏—Å–∫ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–π –º—É–¥—Ä–æ—Å—Ç–∏
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞–º–∏ —Å–µ—Ç–∏
  - –ü–∞—Ç—Ç–µ—Ä–Ω—ã —ç–≤–æ–ª—é—Ü–∏–∏

- **`tunnel-monitor.html`** - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—É–Ω–Ω–µ–ª–µ–π
  - –°—Ç–∞—Ç—É—Å localtunnel —Å–µ—Ä–≤–∏—Å–æ–≤
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—É–Ω–Ω–µ–ª—è–º–∏
  - –õ–æ–≥–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

- **`internet-intelligence.html`** - –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç
  - –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
  - –£–ª—É—á—à–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
  - –ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

- **`app.js`** - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
  - WebSocket —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
  - UI –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤

- **`admin.js`** - –ê–¥–º–∏–Ω—Å–∫–∞—è –ª–æ–≥–∏–∫–∞
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤
  - AJAX –∑–∞–ø—Ä–æ—Å—ã

- **`styles.css`** - –°—Ç–∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω
  - –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
  - –¢—ë–º–Ω–∞—è —Ç–µ–º–∞

## üìÅ **–ö–æ—Ä–Ω–µ–≤—ã–µ —Ñ–∞–π–ª—ã**

### **üöÄ –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞**
- **`run.py`** - –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
- **`start.bat`** - –ó–∞–ø—É—Å–∫ –¥–ª—è Windows
- **`start.ps1`** - PowerShell —Å–∫—Ä–∏–ø—Ç
- **`start.sh`** - Bash —Å–∫—Ä–∏–ø—Ç –¥–ª—è Linux/Mac

### **üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
- **`requirements.txt`** - Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **`.env`** - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
- **`.gitignore`** - –ò—Å–∫–ª—é—á–µ–Ω–∏—è Git

### **üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- **`test_*.py`** - –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
  - `test/test_memory_optimizer.py` - –¢–µ—Å—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞ –ø–∞–º—è—Ç–∏
  - `test/test_native_image_generation.py` - –¢–µ—Å—Ç—ã –Ω–∞—Ç–∏–≤–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
  - `test/test_bingx_api.py` - BingX API —Ç–µ—Å—Ç—ã
  - `test/test_crypto_detector.py` - –ö—Ä–∏–ø—Ç–æ–¥–µ—Ç–µ–∫—Ç–æ—Ä
  - `test/test_image_trigger.py` - –¢—Ä–∏–≥–≥–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - `test/test_simple.py` - –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
  - `test/test_lazy_memory.py` - –¢–µ—Å—Ç—ã LazyMemory

### **üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**
- **`add_*.py`** - –°–∫—Ä–∏–ø—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π
  - `add_ultimate_crypto_data.py` - –ö—Ä–∏–ø—Ç–æ –¥–∞–Ω–Ω—ã–µ
  - `add_trading_signal.py` - –¢–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã
  - `add_image_method.py` - –ú–µ—Ç–æ–¥—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - `add_telegram_buttons.py` - Telegram –∫–Ω–æ–ø–∫–∏

### **üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**
- **`debug_prompts.sh`** - –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤
- **`diagnose_port_6666.sh`** - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ—Ä—Ç–∞
- **`fix_*.py`** - –°–∫—Ä–∏–ø—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

## üìä **–ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö**

### **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Telegram/Web ‚Üí API ‚Üí Core ‚Üí LLM ‚Üí Response ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
                                    ‚Üì
                               –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–∑—É–º
```

### **–°–∏—Å—Ç–µ–º–∞ –¥—É—à–∏**
```
Background Task ‚Üí Soul Thinking ‚Üí Personality Update ‚Üí Autonomous Messages
                      ‚Üì
                –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å
```

### **–ö—Ä–∏–ø—Ç–æ–∞–Ω–∞–ª–∏–∑**
```
Image/Text ‚Üí Crypto Detector ‚Üí BingX API ‚Üí Multi-stage Analysis ‚Üí Trading Signal
```

### **–ü–∞–º—è—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
```
Message ‚Üí Importance Check ‚Üí Embedding ‚Üí LazyMemory ‚Üí Semantic Search
    ‚Üì
–ù–æ—á–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ‚Üí LLM —Å–∂–∞—Ç–∏–µ ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```

### **–ù–∞—Ç–∏–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
```
LLM Response ‚Üí IMAGE! JSON Parser ‚Üí Hugging Face ‚Üí Image Generation ‚Üí Telegram
```

### **–ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–∑—É–º**
```
–õ–æ–∫–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç ‚Üí –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å ‚Üí –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∏ ‚Üí –≠–≤–æ–ª—é—Ü–∏—è –∞–≥–µ–Ω—Ç–æ–≤
```

## üîÑ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã**

### **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π
- –í—ã—Å–æ–∫–∞—è –∫–æ–≥–µ–∑–∏—è –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª–µ–π

### **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ API –∫–ª—é—á–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
- Graceful degradation
- Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å**
- –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
- –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- –≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–º—è—Ç—å

## üìà **–ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**

### **–õ–æ–≥–∏ –ø–æ –º–æ–¥—É–ª—è–º**
- `chatumba.api` - API –∑–∞–ø—Ä–æ—Å—ã
- `chatumba.telegram` - Telegram —Å–æ–±—ã—Ç–∏—è
- `chatumba.soul` - –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥—É—à–∏
- `chatumba.crypto` - –ö—Ä–∏–ø—Ç–æ–∞–Ω–∞–ª–∏–∑
- `chatumba.vision` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `chatumba.bingx` - BingX API
- `memory.memory_optimizer` - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏
- `memory.smart_memory_manager` - Smart Memory Manager
- `collective_mind` - –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–∑—É–º

### **–§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤**
```
logs/
‚îú‚îÄ‚îÄ chatumba.log        # –û–±—â–∏–µ –ª–æ–≥–∏
‚îú‚îÄ‚îÄ telegram.log        # Telegram —Å–æ–±—ã—Ç–∏—è
‚îú‚îÄ‚îÄ api.log            # API –∑–∞–ø—Ä–æ—Å—ã
‚îú‚îÄ‚îÄ crypto.log         # –ö—Ä–∏–ø—Ç–æ–∞–Ω–∞–ª–∏–∑
‚îú‚îÄ‚îÄ bingx.log          # BingX API
‚îú‚îÄ‚îÄ memory.log         # –°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏
‚îú‚îÄ‚îÄ collective.log     # –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–∑—É–º
‚îú‚îÄ‚îÄ error.log          # –û—à–∏–±–∫–∏
‚îî‚îÄ‚îÄ debug.log          # –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```

## üîß **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**

### **Python (requirements.txt)**
```
fastapi>=0.104.1
uvicorn>=0.24.0
websockets>=12.0
aiohttp>=3.9.0
sqlite3 (–≤—Å—Ç—Ä–æ–µ–Ω)
numpy>=1.24.0
openai>=1.3.0
python-telegram-bot>=20.0
silero-tts>=0.4.0
whisper>=1.0.0
easyocr>=1.7.0
ultralytics>=8.0.0
tiktoken>=0.5.0
sentence-transformers>=2.2.2
cryptography>=3.4.8
huggingface_hub>=0.23.0
```

### **Node.js (package.json)**
```json
{
  "dependencies": {
    "serve": "^14.0.1"
  }
}
```

## üöÄ **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**

### **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**
1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `.env`
3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `python run.py`

### **Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**
```dockerfile
FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
EXPOSE 6666
CMD ["python", "run.py"]
```

### **–°–∏—Å—Ç–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å**
```ini
[Unit]
Description=Chatumba AI Service
After=network.target

[Service]
Type=simple
User=chatumba
WorkingDirectory=/opt/chatumba
ExecStart=/usr/bin/python run.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

## üÜï **–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

### **–§–æ–Ω–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- API –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### **–ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–∑—É–º**
- –î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ç—å –∞–≥–µ–Ω—Ç–æ–≤
- –û–±–º–µ–Ω –æ–ø—ã—Ç–æ–º –∏ –∑–Ω–∞–Ω–∏—è–º–∏
- –≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ
- –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ

### **–ù–∞—Ç–∏–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
- –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- JSON-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º IMAGE!
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–æ –≤—Å–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ –ø—Ä–æ–º–ø—Ç–æ–≤

### **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–∞–Ω–∞–ª–∏—Ç–∏–∫–∞**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –£–ª—É—á—à–µ–Ω–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä –∫—Ä–∏–ø—Ç–æ–∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BingX API

### **Smart Memory System v2.0**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- –£–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º –∑–∞—Ç—É—Ö–∞–Ω–∏–µ–º
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–æ–≤
- –í—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç—å
- –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —á–∞–Ω–∫–∏ –ø–∞–º—è—Ç–∏

---

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –ò–ò**